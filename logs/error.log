{"code":"AccessDenied","extendedRequestId":"MCZ9z/otz3eJ3WQD50K5hUuiqudavHaLw9PAxMvW/GtVdVjZPDUZdg7yby/xL+vkfr5gUwhxYnkYWrGOqmSCLgI7h9EtNFiBKoxfqcq3ffA=","level":"error","message":"Error checking emails: Access Denied","region":"us-west-2","requestId":"3MEJY42VQKK6F96K","retryDelay":34.63146731181364,"retryable":false,"service":"stackbox-deployment","stack":"AccessDenied: Access Denied\n    at Request.extractError (D:\\Users\\nflos\\StackBox\\node_modules\\aws-sdk\\lib\\services\\s3.js:757:35)\n    at Request.callListeners (D:\\Users\\nflos\\StackBox\\node_modules\\aws-sdk\\lib\\sequential_executor.js:106:20)\n    at Request.emit (D:\\Users\\nflos\\StackBox\\node_modules\\aws-sdk\\lib\\sequential_executor.js:78:10)\n    at Request.emit (D:\\Users\\nflos\\StackBox\\node_modules\\aws-sdk\\lib\\request.js:686:14)\n    at Request.transition (D:\\Users\\nflos\\StackBox\\node_modules\\aws-sdk\\lib\\request.js:22:10)\n    at AcceptorStateMachine.runTo (D:\\Users\\nflos\\StackBox\\node_modules\\aws-sdk\\lib\\state_machine.js:14:12)\n    at D:\\Users\\nflos\\StackBox\\node_modules\\aws-sdk\\lib\\state_machine.js:26:10\n    at Request.<anonymous> (D:\\Users\\nflos\\StackBox\\node_modules\\aws-sdk\\lib\\request.js:38:9)\n    at Request.<anonymous> (D:\\Users\\nflos\\StackBox\\node_modules\\aws-sdk\\lib\\request.js:688:12)\n    at Request.callListeners (D:\\Users\\nflos\\StackBox\\node_modules\\aws-sdk\\lib\\sequential_executor.js:116:18)","statusCode":403,"time":"2025-08-06T21:43:34.504Z","timestamp":"2025-08-06 14:43:34"}
{"level":"error","message":"‚ùå Signup error: secretOrPrivateKey must have a value","service":"stackbox-deployment","stack":"Error: secretOrPrivateKey must have a value\n    at module.exports [as sign] (D:\\Users\\nflos\\StackBox\\node_modules\\jsonwebtoken\\sign.js:111:20)\n    at D:\\Users\\nflos\\StackBox\\src\\api\\server.js:132:23","timestamp":"2025-08-07 15:24:18"}
{"level":"error","message":"Failed to create DNS validation record for temp-stackbox.com: route53Service.createValidationRecord is not a function","service":"stackbox-deployment","stack":"TypeError: route53Service.createValidationRecord is not a function\n    at ACMService.setupDNSValidation (D:\\Users\\nflos\\StackBox\\src\\services\\acm-service.js:173:52)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async EnterpriseDeployer.setupSSLCertificates (D:\\Users\\nflos\\StackBox\\src\\services\\enterprise-deployer.js:138:33)\n    at async EnterpriseDeployer.deployEnterpriseStack (D:\\Users\\nflos\\StackBox\\src\\services\\enterprise-deployer.js:49:25)\n    at async deployClientAsync (D:\\Users\\nflos\\StackBox\\src\\api\\server.js:628:20)","timestamp":"2025-08-07 15:30:56"}
{"level":"error","message":"Failed to create DNS validation record for *.temp-stackbox.com: route53Service.createValidationRecord is not a function","service":"stackbox-deployment","stack":"TypeError: route53Service.createValidationRecord is not a function\n    at ACMService.setupDNSValidation (D:\\Users\\nflos\\StackBox\\src\\services\\acm-service.js:173:52)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async EnterpriseDeployer.setupSSLCertificates (D:\\Users\\nflos\\StackBox\\src\\services\\enterprise-deployer.js:138:33)\n    at async EnterpriseDeployer.deployEnterpriseStack (D:\\Users\\nflos\\StackBox\\src\\services\\enterprise-deployer.js:49:25)\n    at async deployClientAsync (D:\\Users\\nflos\\StackBox\\src\\api\\server.js:628:20)","timestamp":"2025-08-07 15:30:56"}
{"$fault":"client","$metadata":{"attempts":1,"httpStatusCode":400,"requestId":"5620f354-77e9-4b86-8644-f9aeb37f4bbf","totalRetryDelay":0},"Code":"InvalidGroupId.Malformed","level":"error","message":"Failed to ensure DB security group: Invalid id: \"stackbox-web-sg\" (expecting \"sg-...\")","name":"InvalidGroupId.Malformed","service":"stackbox-deployment","stack":"InvalidGroupId.Malformed: Invalid id: \"stackbox-web-sg\" (expecting \"sg-...\")\n    at throwDefaultError (D:\\Users\\nflos\\StackBox\\node_modules\\@smithy\\smithy-client\\dist-cjs\\index.js:388:20)\n    at D:\\Users\\nflos\\StackBox\\node_modules\\@smithy\\smithy-client\\dist-cjs\\index.js:397:5\n    at de_CommandError (D:\\Users\\nflos\\StackBox\\node_modules\\@aws-sdk\\client-ec2\\dist-cjs\\index.js:17271:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\Users\\nflos\\StackBox\\node_modules\\@smithy\\middleware-serde\\dist-cjs\\index.js:36:20\n    at async D:\\Users\\nflos\\StackBox\\node_modules\\@smithy\\core\\dist-cjs\\index.js:193:18\n    at async D:\\Users\\nflos\\StackBox\\node_modules\\@smithy\\middleware-retry\\dist-cjs\\index.js:320:38\n    at async D:\\Users\\nflos\\StackBox\\node_modules\\@aws-sdk\\middleware-logger\\dist-cjs\\index.js:33:22\n    at async RDSService.ensureDBSecurityGroup (D:\\Users\\nflos\\StackBox\\src\\services\\rds-service.js:189:7)\n    at async RDSService.createClientDatabase (D:\\Users\\nflos\\StackBox\\src\\services\\rds-service.js:52:29)","timestamp":"2025-08-07 15:30:59"}
{"$fault":"client","$metadata":{"attempts":1,"httpStatusCode":400,"requestId":"5620f354-77e9-4b86-8644-f9aeb37f4bbf","totalRetryDelay":0},"Code":"InvalidGroupId.Malformed","level":"error","message":"Failed to create RDS database for client smithrealestate-e11f059b: Invalid id: \"stackbox-web-sg\" (expecting \"sg-...\")","name":"InvalidGroupId.Malformed","service":"stackbox-deployment","stack":"InvalidGroupId.Malformed: Invalid id: \"stackbox-web-sg\" (expecting \"sg-...\")\n    at throwDefaultError (D:\\Users\\nflos\\StackBox\\node_modules\\@smithy\\smithy-client\\dist-cjs\\index.js:388:20)\n    at D:\\Users\\nflos\\StackBox\\node_modules\\@smithy\\smithy-client\\dist-cjs\\index.js:397:5\n    at de_CommandError (D:\\Users\\nflos\\StackBox\\node_modules\\@aws-sdk\\client-ec2\\dist-cjs\\index.js:17271:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\Users\\nflos\\StackBox\\node_modules\\@smithy\\middleware-serde\\dist-cjs\\index.js:36:20\n    at async D:\\Users\\nflos\\StackBox\\node_modules\\@smithy\\core\\dist-cjs\\index.js:193:18\n    at async D:\\Users\\nflos\\StackBox\\node_modules\\@smithy\\middleware-retry\\dist-cjs\\index.js:320:38\n    at async D:\\Users\\nflos\\StackBox\\node_modules\\@aws-sdk\\middleware-logger\\dist-cjs\\index.js:33:22\n    at async RDSService.ensureDBSecurityGroup (D:\\Users\\nflos\\StackBox\\src\\services\\rds-service.js:189:7)\n    at async RDSService.createClientDatabase (D:\\Users\\nflos\\StackBox\\src\\services\\rds-service.js:52:29)","timestamp":"2025-08-07 15:30:59"}
{"$fault":"client","$metadata":{"attempts":1,"httpStatusCode":400,"requestId":"5620f354-77e9-4b86-8644-f9aeb37f4bbf","totalRetryDelay":0},"Code":"InvalidGroupId.Malformed","level":"error","message":"Failed to setup managed database: Invalid id: \"stackbox-web-sg\" (expecting \"sg-...\")","name":"InvalidGroupId.Malformed","service":"stackbox-deployment","stack":"InvalidGroupId.Malformed: Invalid id: \"stackbox-web-sg\" (expecting \"sg-...\")\n    at throwDefaultError (D:\\Users\\nflos\\StackBox\\node_modules\\@smithy\\smithy-client\\dist-cjs\\index.js:388:20)\n    at D:\\Users\\nflos\\StackBox\\node_modules\\@smithy\\smithy-client\\dist-cjs\\index.js:397:5\n    at de_CommandError (D:\\Users\\nflos\\StackBox\\node_modules\\@aws-sdk\\client-ec2\\dist-cjs\\index.js:17271:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\Users\\nflos\\StackBox\\node_modules\\@smithy\\middleware-serde\\dist-cjs\\index.js:36:20\n    at async D:\\Users\\nflos\\StackBox\\node_modules\\@smithy\\core\\dist-cjs\\index.js:193:18\n    at async D:\\Users\\nflos\\StackBox\\node_modules\\@smithy\\middleware-retry\\dist-cjs\\index.js:320:38\n    at async D:\\Users\\nflos\\StackBox\\node_modules\\@aws-sdk\\middleware-logger\\dist-cjs\\index.js:33:22\n    at async RDSService.ensureDBSecurityGroup (D:\\Users\\nflos\\StackBox\\src\\services\\rds-service.js:189:7)\n    at async RDSService.createClientDatabase (D:\\Users\\nflos\\StackBox\\src\\services\\rds-service.js:52:29)","timestamp":"2025-08-07 15:30:59"}
{"$fault":"client","$metadata":{"attempts":1,"httpStatusCode":400,"requestId":"5620f354-77e9-4b86-8644-f9aeb37f4bbf","totalRetryDelay":0},"Code":"InvalidGroupId.Malformed","level":"error","message":"‚ùå ENTERPRISE DEPLOYMENT FAILED: Invalid id: \"stackbox-web-sg\" (expecting \"sg-...\")","name":"InvalidGroupId.Malformed","service":"stackbox-deployment","stack":"InvalidGroupId.Malformed: Invalid id: \"stackbox-web-sg\" (expecting \"sg-...\")\n    at throwDefaultError (D:\\Users\\nflos\\StackBox\\node_modules\\@smithy\\smithy-client\\dist-cjs\\index.js:388:20)\n    at D:\\Users\\nflos\\StackBox\\node_modules\\@smithy\\smithy-client\\dist-cjs\\index.js:397:5\n    at de_CommandError (D:\\Users\\nflos\\StackBox\\node_modules\\@aws-sdk\\client-ec2\\dist-cjs\\index.js:17271:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\Users\\nflos\\StackBox\\node_modules\\@smithy\\middleware-serde\\dist-cjs\\index.js:36:20\n    at async D:\\Users\\nflos\\StackBox\\node_modules\\@smithy\\core\\dist-cjs\\index.js:193:18\n    at async D:\\Users\\nflos\\StackBox\\node_modules\\@smithy\\middleware-retry\\dist-cjs\\index.js:320:38\n    at async D:\\Users\\nflos\\StackBox\\node_modules\\@aws-sdk\\middleware-logger\\dist-cjs\\index.js:33:22\n    at async RDSService.ensureDBSecurityGroup (D:\\Users\\nflos\\StackBox\\src\\services\\rds-service.js:189:7)\n    at async RDSService.createClientDatabase (D:\\Users\\nflos\\StackBox\\src\\services\\rds-service.js:52:29)","timestamp":"2025-08-07 15:30:59"}
{"email":"test+1754605853713@example.com","level":"error","message":"üìß Failure notification sent:","service":"stackbox-deployment","timestamp":"2025-08-07 15:30:59"}
{"clientId":"smithrealestate-e11f059b","level":"error","message":"‚ùå Trial deployment failed for new user:","service":"stackbox-deployment","timestamp":"2025-08-07 15:30:59"}
{"level":"error","message":"Certificate validation failed for arn:aws:acm:us-east-1:304052673868:certificate/1b69a94c-0463-42ee-a05e-9c3b219e05d5: Certificate validation timeout after 30 minutes","service":"stackbox-deployment","stack":"Error: Certificate validation timeout after 30 minutes\n    at ACMService.waitForValidation (D:\\Users\\nflos\\StackBox\\src\\services\\acm-service.js:246:13)\n    at async EnterpriseDeployer.setupSSLCertificates (D:\\Users\\nflos\\StackBox\\src\\services\\enterprise-deployer.js:145:36)\n    at async EnterpriseDeployer.deployEnterpriseStack (D:\\Users\\nflos\\StackBox\\src\\services\\enterprise-deployer.js:49:25)\n    at async deployClientAsync (D:\\Users\\nflos\\StackBox\\src\\api\\server.js:628:20)","timestamp":"2025-08-07 15:58:20"}
{"level":"error","message":"Failed to setup SSL certificates: Certificate validation timeout after 30 minutes","service":"stackbox-deployment","stack":"Error: Certificate validation timeout after 30 minutes\n    at ACMService.waitForValidation (D:\\Users\\nflos\\StackBox\\src\\services\\acm-service.js:246:13)\n    at async EnterpriseDeployer.setupSSLCertificates (D:\\Users\\nflos\\StackBox\\src\\services\\enterprise-deployer.js:145:36)\n    at async EnterpriseDeployer.deployEnterpriseStack (D:\\Users\\nflos\\StackBox\\src\\services\\enterprise-deployer.js:49:25)\n    at async deployClientAsync (D:\\Users\\nflos\\StackBox\\src\\api\\server.js:628:20)","timestamp":"2025-08-07 15:58:20"}
{"level":"error","message":"‚ùå ENTERPRISE DEPLOYMENT FAILED: Certificate validation timeout after 30 minutes","service":"stackbox-deployment","stack":"Error: Certificate validation timeout after 30 minutes\n    at ACMService.waitForValidation (D:\\Users\\nflos\\StackBox\\src\\services\\acm-service.js:246:13)\n    at async EnterpriseDeployer.setupSSLCertificates (D:\\Users\\nflos\\StackBox\\src\\services\\enterprise-deployer.js:145:36)\n    at async EnterpriseDeployer.deployEnterpriseStack (D:\\Users\\nflos\\StackBox\\src\\services\\enterprise-deployer.js:49:25)\n    at async deployClientAsync (D:\\Users\\nflos\\StackBox\\src\\api\\server.js:628:20)","timestamp":"2025-08-07 15:58:20"}
{"email":"test+1754605679937@example.com","level":"error","message":"üìß Failure notification sent:","service":"stackbox-deployment","timestamp":"2025-08-07 15:58:20"}
{"clientId":"smithrealestate-5e51e530","level":"error","message":"‚ùå Trial deployment failed for new user:","service":"stackbox-deployment","timestamp":"2025-08-07 15:58:20"}
{"level":"error","message":"Failed to fix SSL certificate: No hosted zone found for domain: temp-stackbox.com","service":"stackbox-deployment","stack":"Error: No hosted zone found for domain: temp-stackbox.com\n    at SSLCertificateFixer.fixCertificateValidation (D:\\Users\\nflos\\StackBox\\scripts\\fix-ssl-certificate.js:44:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async fixSSLAndDeploy (D:\\Users\\nflos\\StackBox\\scripts\\fix-ssl-certificate.js:251:23)","timestamp":"2025-08-07 16:02:08"}
{"level":"error","message":"  ‚ùå Failed to create stackbox-connections:","service":"stackbox-deployment","timestamp":"2025-08-07 16:07:23"}
{"$fault":"client","$metadata":{"attempts":1,"httpStatusCode":400,"requestId":"JBL9CLKH3PS8RPOA2B8QNNLRTJVV4KQNSO5AEMVJF66Q9ASUAAJG","totalRetryDelay":0},"__type":"com.amazon.coral.validate#ValidationException","level":"error","message":"  ‚ùå Failed to create table stackpro-sandbox-messages: 1 validation error detected: Value 'ON_DEMAND' at 'billingMode' failed to satisfy constraint: Member must satisfy enum value set: [PROVISIONED, PAY_PER_REQUEST]","name":"ValidationException","service":"stackbox-deployment","stack":"ValidationException: 1 validation error detected: Value 'ON_DEMAND' at 'billingMode' failed to satisfy constraint: Member must satisfy enum value set: [PROVISIONED, PAY_PER_REQUEST]\n    at throwDefaultError (D:\\Users\\nflos\\StackBox\\node_modules\\@smithy\\smithy-client\\dist-cjs\\index.js:388:20)\n    at D:\\Users\\nflos\\StackBox\\node_modules\\@smithy\\smithy-client\\dist-cjs\\index.js:397:5\n    at de_CommandError (D:\\Users\\nflos\\StackBox\\node_modules\\@aws-sdk\\client-dynamodb\\dist-cjs\\index.js:2308:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\Users\\nflos\\StackBox\\node_modules\\@smithy\\middleware-serde\\dist-cjs\\index.js:36:20\n    at async D:\\Users\\nflos\\StackBox\\node_modules\\@smithy\\core\\dist-cjs\\index.js:193:18\n    at async D:\\Users\\nflos\\StackBox\\node_modules\\@smithy\\middleware-retry\\dist-cjs\\index.js:320:38\n    at async D:\\Users\\nflos\\StackBox\\node_modules\\@aws-sdk\\middleware-logger\\dist-cjs\\index.js:33:22\n    at async FreeTierDeployer.createDynamoDBTables (D:\\Users\\nflos\\StackBox\\scripts\\deploy-free-tier-mode.js:803:9)\n    at async FreeTierDeployer.deployResources (D:\\Users\\nflos\\StackBox\\scripts\\deploy-free-tier-mode.js:685:7)","timestamp":"2025-08-07 17:05:26"}
{"$fault":"client","$metadata":{"attempts":1,"httpStatusCode":400,"requestId":"ded95fe6-30a6-43ec-85ad-44a8516c29dd","totalRetryDelay":0},"__type":"InvalidParameterException","level":"error","message":"  ‚ùå Failed to create budget: Unable to create/update budget - TagKey is not in the supported in cost budget dimension set: [PurchaseType, UsageTypeGroup, Service, Operation, UsageType, BillingEntity, CostCategory, LinkedAccount, TagKeyValue, LegalEntityName, InvoicingEntity, AZ, Region, InstanceType]","name":"InvalidParameterException","service":"stackbox-deployment","stack":"InvalidParameterException: Unable to create/update budget - TagKey is not in the supported in cost budget dimension set: [PurchaseType, UsageTypeGroup, Service, Operation, UsageType, BillingEntity, CostCategory, LinkedAccount, TagKeyValue, LegalEntityName, InvoicingEntity, AZ, Region, InstanceType]\n    at de_InvalidParameterExceptionRes (D:\\Users\\nflos\\StackBox\\node_modules\\@aws-sdk\\client-budgets\\dist-cjs\\index.js:1368:21)\n    at de_CommandError (D:\\Users\\nflos\\StackBox\\node_modules\\@aws-sdk\\client-budgets\\dist-cjs\\index.js:1283:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\Users\\nflos\\StackBox\\node_modules\\@smithy\\middleware-serde\\dist-cjs\\index.js:36:20\n    at async D:\\Users\\nflos\\StackBox\\node_modules\\@smithy\\core\\dist-cjs\\index.js:193:18\n    at async D:\\Users\\nflos\\StackBox\\node_modules\\@smithy\\middleware-retry\\dist-cjs\\index.js:320:38\n    at async D:\\Users\\nflos\\StackBox\\node_modules\\@aws-sdk\\middleware-logger\\dist-cjs\\index.js:33:22\n    at async FreeTierDeployer.createBudgetAndAlerts (D:\\Users\\nflos\\StackBox\\scripts\\deploy-free-tier-mode.js:912:7)\n    at async FreeTierDeployer.deployResources (D:\\Users\\nflos\\StackBox\\scripts\\deploy-free-tier-mode.js:700:7)\n    at async main (D:\\Users\\nflos\\StackBox\\scripts\\deploy-free-tier-mode.js:943:20)","timestamp":"2025-08-07 17:06:38"}
{"$fault":"client","$metadata":{"attempts":1,"httpStatusCode":400,"requestId":"48df70dd-de87-452d-881e-d95f463ea09e","totalRetryDelay":0},"__type":"InvalidParameterException","level":"error","message":"  ‚ùå Failed to create budget: Unable to create/update budget - TagKey is not in the supported in cost budget dimension set: [PurchaseType, UsageTypeGroup, Service, Operation, UsageType, BillingEntity, CostCategory, LinkedAccount, TagKeyValue, LegalEntityName, InvoicingEntity, AZ, Region, InstanceType]","name":"InvalidParameterException","service":"stackbox-deployment","stack":"InvalidParameterException: Unable to create/update budget - TagKey is not in the supported in cost budget dimension set: [PurchaseType, UsageTypeGroup, Service, Operation, UsageType, BillingEntity, CostCategory, LinkedAccount, TagKeyValue, LegalEntityName, InvoicingEntity, AZ, Region, InstanceType]\n    at de_InvalidParameterExceptionRes (D:\\Users\\nflos\\StackBox\\node_modules\\@aws-sdk\\client-budgets\\dist-cjs\\index.js:1368:21)\n    at de_CommandError (D:\\Users\\nflos\\StackBox\\node_modules\\@aws-sdk\\client-budgets\\dist-cjs\\index.js:1283:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\Users\\nflos\\StackBox\\node_modules\\@smithy\\middleware-serde\\dist-cjs\\index.js:36:20\n    at async D:\\Users\\nflos\\StackBox\\node_modules\\@smithy\\core\\dist-cjs\\index.js:193:18\n    at async D:\\Users\\nflos\\StackBox\\node_modules\\@smithy\\middleware-retry\\dist-cjs\\index.js:320:38\n    at async D:\\Users\\nflos\\StackBox\\node_modules\\@aws-sdk\\middleware-logger\\dist-cjs\\index.js:33:22\n    at async FreeTierDeployer.createBudgetAndAlerts (D:\\Users\\nflos\\StackBox\\scripts\\deploy-free-tier-mode.js:912:7)\n    at async FreeTierDeployer.deployResources (D:\\Users\\nflos\\StackBox\\scripts\\deploy-free-tier-mode.js:700:7)\n    at async main (D:\\Users\\nflos\\StackBox\\scripts\\deploy-free-tier-mode.js:943:20)","timestamp":"2025-08-07 17:14:21"}
