{
  "phase": "Phase 1 - Infrastructure",
  "timestamp": "2025-08-08T16:14:24.333Z",
  "account": "304052673868",
  "region": "us-west-2",
  "resources": {
    "dynamodbTable": {
      "arn": "arn:aws:dynamodb:us-west-2:304052673868:table/stackpro-sandbox-quotas",
      "name": "stackpro-sandbox-quotas",
      "status": "ACTIVE",
      "ttlEnabled": true
    },
    "lambdaFunction": {
      "arn": "arn:aws:lambda:us-west-2:304052673868:function:stackpro-sandbox-tenant-lock",
      "name": "stackpro-sandbox-tenant-lock"
    },
    "iamRole": {
      "arn": "arn:aws:iam::304052673868:role/StackPro-Sandbox-TenantLock-Role",
      "name": "StackPro-Sandbox-TenantLock-Role"
    },
    "alarms": [
      {
        "name": "StackPro-Sandbox-QuotaRejectedRateHigh",
        "threshold": 150,
        "metric": "QuotaRejected"
      },
      {
        "name": "StackPro-Sandbox-ApiSpike-Tenant",
        "threshold": 600,
        "metric": "ApiRequests"
      },
      {
        "name": "StackPro-Sandbox-WSSpike-Tenant",
        "threshold": 600,
        "metric": "WsMessages"
      },
      {
        "name": "StackPro-Sandbox-AnomalyLockTriggered",
        "threshold": 1,
        "metric": "AnomalyLockTriggered"
      },
      {
        "name": "StackPro-Sandbox-DailyCostSpike",
        "threshold": 3,
        "metric": "EstimatedCharges"
      }
    ],
    "dashboardUrl": "https://us-west-2.console.aws.amazon.com/cloudwatch/home?region=us-west-2#dashboards:name=StackPro-Sandbox-AbuseProtection"
  },
  "tableSchema": {
    "tableName": "stackpro-sandbox-quotas",
    "partitionKey": "scope (String)",
    "sortKey": "date (String)",
    "ttlAttribute": "ttl",
    "billingMode": "PAY_PER_REQUEST",
    "sampleRecords": [
      {
        "scope": "tenant#abc123",
        "date": "2025-08-08",
        "apiCalls": 150,
        "wsMsgs": 45,
        "filesUploaded": 3,
        "bytesUploaded": 5242880,
        "ttl": 1755830400
      },
      {
        "scope": "user#user456",
        "date": "2025-08-08",
        "apiCalls": 75,
        "wsMsgs": 20,
        "ttl": 1755830400
      },
      {
        "scope": "ip#192.168.1.100",
        "date": "2025-08-08",
        "apiCalls": 200,
        "ttl": 1755830400
      }
    ]
  },
  "quotaLimits": {
    "TENANT_API_DAILY": 3000,
    "USER_API_DAILY": 600,
    "IP_API_DAILY": 800,
    "TENANT_WS_MSGS_DAILY": 3000,
    "USER_WS_MSGS_DAILY": 500,
    "TENANT_FILES_DAILY": 15,
    "MAX_FILE_MB": 10
  },
  "errors": [
    {
      "component": "CompositeAlarm",
      "error": "Error in AlarmRule [Unsupported token ''StackPro-Sandbox-ApiSpike-Tenant'' at char 7]"
    }
  ],
  "nextSteps": [
    "Verify all alarms are in OK state",
    "Test DynamoDB table write/read operations",
    "Confirm Lambda function can be invoked",
    "Proceed to Phase 2: Backend Integration"
  ]
}